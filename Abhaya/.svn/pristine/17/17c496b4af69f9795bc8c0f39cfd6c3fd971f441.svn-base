import { Component, OnInit } from '@angular/core';
import { NgbModal } from '@ng-bootstrap/ng-bootstrap';
import { SuspiciousVehicleComponent } from './suspicious-vehicle/suspicious-vehicle.component';
import { MastersServicesApi } from "../util/services/masters.api";

@Component({
  selector: 'app-suspicious-vehicles',
  templateUrl: './suspicious-vehicles.component.html',
  styleUrls: ['./suspicious-vehicles.component.css']
})
export class SuspiciousVehiclesComponent implements OnInit {
  vehicleDetails = [];
  page: number;
  constructor(private modalService: NgbModal, private mastersServicesApi:MastersServicesApi) { }

  ngOnInit() {
    this.getAllVehicles(0);
    console.log(this.vehicleDetails);
  }

  addSuspiciousVehicle() {
    const modalRef = this.modalService.open(SuspiciousVehicleComponent, { windowClass: 'popup_alignment_dashBoard', backdrop: 'static',
    keyboard: false });
  }

  getAllVehicles(page: number){
    this.mastersServicesApi.getAllSuspiciousVehicles(page, 10).subscribe((data:any) => {
      this.vehicleDetails  =  data.content;
      this.page = data.page;
      console.log(this.vehicleDetails);
    });
  }

}
